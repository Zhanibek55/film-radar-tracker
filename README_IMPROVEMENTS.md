# üöÄ Film Radar - –£–ª—É—á—à–µ–Ω–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è TMDB API**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω API –∫–ª—é—á TMDB: `71267e8d8cb4eb11223acc05a37bd4ad`
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ñ–∏–ª—å–º–æ–≤ –∏ —Å–µ—Ä–∏–∞–ª–æ–≤ –≤ TMDB
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–æ–≥–∞—â–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç–µ—Ä–∞–º–∏, –æ–ø–∏—Å–∞–Ω–∏—è–º–∏, —Ä–µ–π—Ç–∏–Ω–≥–∞–º–∏
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö

### 2. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**
- ‚úÖ –ù–æ–≤—ã–µ –ø–æ–ª—è: `tmdb_id`, `poster_tmdb_url`, `backdrop_url`
- ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ä–µ–ª–∏–∑–æ–≤: `torrent_release_date`, `last_episode_date`
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞: `source_quality_score` (0-100)
- ‚úÖ –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ: `genres`, `runtime`, `popularity`, `vote_count`
- ‚úÖ –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è "—Å–≤–µ–∂–µ—Å—Ç–∏" –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- ‚úÖ View `fresh_quality_content` –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### 3. **–ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞**
- ‚úÖ **3-—Ñ–∞–∑–Ω—ã–π –ø–æ–¥—Ö–æ–¥**:
  1. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–≤–µ–∂–∏—Ö —Ä–µ–ª–∏–∑–æ–≤ –∏–∑ TMDB
  2. –ü–∞—Ä—Å–∏–Ω–≥ —Ç–æ—Ä—Ä–µ–Ω—Ç-–∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (YTS, EZTV, etc.)
  3. –û–±–æ–≥–∞—â–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ TMDB API
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω—ã–π YTS –ø–∞—Ä—Å–µ—Ä —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ –∫–∞—á–µ—Å—Ç–≤—É
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ —Ç–æ—Ä—Ä–µ–Ω—Ç–æ–≤
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–µ–π –ø–æ TMDB ID
- ‚úÖ Rate limiting –¥–ª—è TMDB API

### 4. **–ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –æ—Ç–±–æ—Ä–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞**

#### **–ö—Ä–∏—Ç–µ—Ä–∏–∏ "—Å–≤–µ–∂–∏—Ö" —Ä–µ–ª–∏–∑–æ–≤:**
- üé¨ **–§–∏–ª—å–º—ã**: —Ç–æ—Ä—Ä–µ–Ω—Ç-—Ä–µ–ª–∏–∑ < 7 –¥–Ω–µ–π + –∫–∞—á–µ—Å—Ç–≤–æ >= 720p
- üì∫ **–°–µ—Ä–∏–∞–ª—ã**: –Ω–æ–≤—ã–π —ç–ø–∏–∑–æ–¥ < 3 –¥–Ω—è + –∫–∞—á–µ—Å—Ç–≤–æ >= 720p

#### **–°–∏—Å—Ç–µ–º–∞ –∫–∞—á–µ—Å—Ç–≤–∞ (0-100 –±–∞–ª–ª–æ–≤):**
```
100 - 2160p BluRay    (–ª—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ)
95  - 2160p WEB-DL    
90  - 2160p WEBRip    
85  - 1080p BluRay    
80  - 1080p WEB-DL    (—Ö–æ—Ä–æ—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ)
75  - 1080p WEBRip    
65  - 720p WEB-DL     (–ø—Ä–∏–µ–º–ª–µ–º–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ)
60  - 720p WEBRip     
40  - 480p            (–Ω–∏–∑–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ)
10  - CAMRIP          (–æ—á–µ–Ω—å –ø–ª–æ—Ö–æ)
```

### 5. **–£–ª—É—á—à–µ–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**

#### **–ù–æ–≤—ã–µ –≤–∫–ª–∞–¥–∫–∏:**
- ‚ö° **"–°–≤–µ–∂–∏–µ"** - —Ä–µ–ª–∏–∑—ã –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 7/3 –¥–Ω–µ–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- üèÜ **"–ö–∞—á–µ—Å—Ç–≤–æ"** - —Ç–æ–ª—å–∫–æ –≤—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–µ–ª–∏–∑—ã (80+ –±–∞–ª–ª–æ–≤)
- üé¨ **"–§–∏–ª—å–º—ã"** - —Ç–æ–ª—å–∫–æ —Ñ–∏–ª—å–º—ã
- üì∫ **"–°–µ—Ä–∏–∞–ª—ã"** - —Ç–æ–ª—å–∫–æ —Å–µ—Ä–∏–∞–ª—ã  
- ‚≠ê **"–¢–æ–ø —Ä–µ–π—Ç–∏–Ω–≥"** - IMDB 8.0+
- üìã **"–í—Å–µ"** - –≤–µ—Å—å –∫–æ–Ω—Ç–µ–Ω—Ç

#### **–£–ª—É—á—à–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫:**
- ‚úÖ –†–µ–∞–ª—å–Ω—ã–µ –ø–æ—Å—Ç–µ—Ä—ã –∏–∑ TMDB –≤–º–µ—Å—Ç–æ placeholder'–æ–≤
- ‚úÖ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä "–ù–û–í–û–ï" –¥–ª—è —Å–≤–µ–∂–∏—Ö —Ä–µ–ª–∏–∑–æ–≤
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è —Ü–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ –∫–∞—á–µ—Å—Ç–≤–∞
- ‚úÖ –ë–æ–ª–µ–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è

#### **–£–ª—É—á—à–µ–Ω–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:**
```sql
ORDER BY 
  torrent_release_date DESC,    -- —Å–Ω–∞—á–∞–ª–∞ —Å–≤–µ–∂–∏–µ —Ç–æ—Ä—Ä–µ–Ω—Ç—ã
  last_episode_date DESC,       -- –ø–æ—Ç–æ–º —Å–≤–µ–∂–∏–µ —ç–ø–∏–∑–æ–¥—ã
  popularity DESC,              -- –ø–æ—Ç–æ–º –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ
  created_at DESC               -- –ø–æ—Ç–æ–º –ø–æ –¥–∞—Ç–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —É–ª—É—á—à–µ–Ω–∏–π

### **–†–µ—à–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**
- ‚ùå ~~–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ—Å—Ç–µ—Ä–æ–≤~~ ‚Üí ‚úÖ –†–µ–∞–ª—å–Ω—ã–µ –ø–æ—Å—Ç–µ—Ä—ã –∏–∑ TMDB
- ‚ùå ~~–•–∞—Ä–¥–∫–æ–¥ –¥–∞–Ω–Ω—ã–µ~~ ‚Üí ‚úÖ –ñ–∏–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ TMDB + —Ç–æ—Ä—Ä–µ–Ω—Ç-—Ç—Ä–µ–∫–µ—Ä–æ–≤
- ‚ùå ~~–ù–µ—Ç –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤ "—Å–≤–µ–∂–µ—Å—Ç–∏"~~ ‚Üí ‚úÖ –ß–µ—Ç–∫–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–∞–º–∫–∏
- ‚ùå ~~–ü–ª–æ—Ö–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è~~ ‚Üí ‚úÖ –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è –∏–∑ TMDB
- ‚ùå ~~–ù–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞~~ ‚Üí ‚úÖ –°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–∫–∏ 0-100

### **–ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- üî• –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Å–≤–µ–∂–∏—Ö —Ä–µ–ª–∏–∑–æ–≤
- üìä –°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ —Ç–æ—Ä—Ä–µ–Ω—Ç–æ–≤
- üé® –ö—Ä–∞—Å–∏–≤—ã–µ –ø–æ—Å—Ç–µ—Ä—ã –∏ –æ–ø–∏—Å–∞–Ω–∏—è
- ‚ö° –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –Ω–æ–≤–∏–∑–Ω—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- üèÜ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—á–µ—Å—Ç–≤—É —Ä–µ–ª–∏–∑–æ–≤

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –¥–ª—è –∑–∞–ø—É—Å–∫–∞

### 1. **–ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ë–î:**
```sql
-- –í—ã–ø–æ–ª–Ω–∏—Ç—å —Ñ–∞–π–ª: supabase/migrations/20250115000000_add_tmdb_integration.sql
```

### 2. **–î–µ–ø–ª–æ–π Edge Function:**
```bash
supabase functions deploy parse-movies
```

### 3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```bash
# –ó–∞–ø—É—Å–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞
curl -X POST "https://your-project.supabase.co/functions/v1/parse-movies"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
SELECT title, tmdb_id, poster_tmdb_url, source_quality_score 
FROM movies 
WHERE tmdb_id IS NOT NULL 
LIMIT 10;
```

## üöÄ –û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

- **90%+** —Ñ–∏–ª—å–º–æ–≤ –±—É–¥—É—Ç –∏–º–µ—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –ø–æ—Å—Ç–µ—Ä—ã
- **< 2 —á–∞—Å–∞** –∑–∞–¥–µ—Ä–∂–∫–∞ –æ—Ç —Ç–æ—Ä—Ä–µ–Ω—Ç-—Ä–µ–ª–∏–∑–∞ –¥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è –Ω–∞ —Å–∞–π—Ç–µ  
- **85%+** —Ç–æ—á–Ω–æ—Å—Ç—å –æ—Ç–±–æ—Ä–∞ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- **3x –±—ã—Å—Ç—Ä–µ–µ** –∑–∞–≥—Ä—É–∑–∫–∞ –±–ª–∞–≥–æ–¥–∞—Ä—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∑–∞–ø—Ä–æ—Å–∞–º

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

### **Rate Limiting TMDB:**
- –¢–µ–∫—É—â–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞: 100ms –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
- –õ–∏–º–∏—Ç TMDB: 40 –∑–∞–ø—Ä–æ—Å–æ–≤/10 —Å–µ–∫
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: —É–≤–µ–ª–∏—á–∏—Ç—å –¥–æ 200ms –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏

### **–ß–∞—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π:**
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: –∫–∞–∂–¥—ã–µ 2-4 —á–∞—Å–∞
- –ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å cron job –≤ Supabase

### **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
- –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —É—Å–ø–µ—à–Ω–æ—Å—Ç—å TMDB –∑–∞–ø—Ä–æ—Å–æ–≤
- –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Ç–æ—Ä—Ä–µ–Ω—Ç–æ–≤
- –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤

---

## üéâ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–ü—Ä–æ–µ–∫—Ç —Ç–µ–ø–µ—Ä—å —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–∑–Ω–∞—á–∞–ª—å–Ω—É—é –∫–æ–Ω—Ü–µ–ø—Ü–∏—é - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç **–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Å–≤–µ–∂–∏–µ —Ñ–∏–ª—å–º—ã –∏ —Å–µ—Ä–∏–∞–ª—ã –≤ —Ö–æ—Ä–æ—à–µ–º –∫–∞—á–µ—Å—Ç–≤–µ** —Å –∫—Ä–∞—Å–∏–≤—ã–º–∏ –ø–æ—Å—Ç–µ—Ä–∞–º–∏ –∏ –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –∏–∑ TMDB.